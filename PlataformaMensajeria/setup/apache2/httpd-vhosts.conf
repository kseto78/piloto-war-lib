#
# Virtual Hosts
#
# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/2.2/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
Listen 443
LimitRequestBody 0

## JBOSS VH
#<VirtualHost *:80>
#    ServerName localhost
#    DocumentRoot D:/jboss-5.1.0.GA/server/default/deploy/PlataformaMensajeria.war
#    JkMount /* jboss
#    CustomLog logs\access-fwk3.inter060.es.log combined
#    ErrorLog logs\error-fwk3.inter060.es.log
#</VirtualHost>
##WEBLOGIC VH
<VirtualHost *:80>
    ServerName localhost
    <Location /PlataformaMensajeria>
        WebLogicCluster localhost:7002,localhost:7004
        SetHandler weblogic-handler
        Allow from all
    </Location>
    <IfModule mod_weblogic.c>
        Debug ERR
        DebugConfigInfo ON
        WLCookieName JSESSIONID
        WLLogFile logs\wlproxy.log
    </IfModule>
	CustomLog logs\access-fwk3.inter060.es.log combined
    ErrorLog logs\error-fwk3.inter060.es.log
</VirtualHost>

<IfModule mod_ssl.c>
	<VirtualHost *:443>
		ServerName localhost

		SSLCertificateFile conf\ssl\certificado-fwkv3.pem
		SSLCertificateKeyFile conf\ssl\key.pem
		SSLCACertificateFile conf\ssl\ca.crt
		SSLEngine on	
		
		<Location /PlataformaMensajeria/homecert.action>
			SSLVerifyClient require
			SSLVerifyDepth 2
			SSLOptions +ExportCertData +StdEnvVars					
			Allow from all
		</Location>
		
		<Location /PlataformaMensajeria>			
			Allow from all
		</Location>	
		
		#INICIO CFG JBOSS 
		#JkMount /* jboss
		#JkExtractSSL On
		#JkHTTPSIndicator HTTPS
		#JkSESSIONIndicator SSL_SESSION_ID
		#JkCIPHERIndicator SSL_CIPHER
		#JkCERTSIndicator SSL_CLIENT_CERT
		#JkEnvVar SSL_CLIENT_CERT SSL_CLIENT_CERT
		#JkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories 
		#JkLogLevel info
		#FIN CFG JBOSS 
			
		#INICIO CFG WEBLOGIC 
		#Configuracion de apache al cargar el modulo de Weblogic
		<IfModule mod_weblogic.c>
			WebLogicCluster localhost:7002,localhost:7004
			WLCookieName JSESSIONID
			DebugConfigInfo ON
			Debug All
			WLLogFile logs\weblogic-mod.log
			MatchExpression /*
			WLProxySSL ON
		</IfModule>
		#FIN CFG WEBLOGIC 
	
	CustomLog logs\access-fwk3-ssl.inter060.es.log combined
    ErrorLog logs\error-fwk3-ssl.inter060.es.log
	</VirtualHost>
</IfModule>